# actimetric

<!-- badges: start -->

<!-- badges: end -->

The goal of actimetric is to apply machine learning-based algorithms to accelerometer data to provide insights in physical activity and sleep behaviors in free-living conditions.

## Installation

You can install the development version of actimetric like so:

``` r
library(remotes)
install_github("jhmigueles/actimetric")
```

## Example usage

To use actimetric, you can just rely on the `runActimetric` function.

The bare minimum of input arguments would be the input_directory, output_directory, and the classifier that you would like to use. See next function call for a example:

``` r
library(actimetric)

# This runs the program
runActimetric(input_directory = "G:/directory_containing/the_input_files/",
              output_directory = "G:/directory_to_save/the_output_files/",
              studyname = "my_study_name",
              classifier = "Preschool Wrist Random Forest Free Living")
```

The `actimetric` R package supports the use of 10 different classifiers for now:

-   Preschool Wrist Random Forest Free Living

-   Preschool Hip Random Forest Free Living

-   Preschool Hip Random Forest Free Living Lag-Lead

-   Preschool Wrist Random Forest Free Living Lag-Lead

-   School age Wrist Random Forest

-   School age Hip Random Forest

-   Adult Wrist RF Trost

-   Adult women Wrist RF Ellis

-   Adult women Hip RF Ellis

-   Thigh Decision Tree

## Additional parameters

Additionally, you can control a number of extra parameters in `actimetric` . For example, you can decide on calibrating the data with argument `do.calibration`, on the acceleration metrics you would like to calculate with options for ENMO, Actilife Counts, and Actilife LFE counts, or whether to detect non-wear and sleep periods.

Here a function call with all potential arguments you may use in `actimetric`, all of them defined with their default values:

``` r
library(actimetric)

# This runs the program
runActimetric(input_directory = NULL,
              output_directory = NULL,
              studyname = "actimetric",
              do.calibration = TRUE,
              do.sleep = TRUE,
              do.nonwear = TRUE,
              do.enmo = TRUE,
              do.actilifecounts = FALSE,
              do.actilifecountsLFE = FALSE,
              classifier = NULL,
              boutdur = c(10),
              boutcriter = 0.8,
              visualreport = FALSE,
              overwrite = FALSE,
              verbose = TRUE)
```

## The output

The `actimetric` R package will generate two folders inside the `output_directory`. One of them will contain the time series with the timestamped epoch-level estimates for the activity classification and the acceleration metrics calculated. The time series come in the format of `.RData`. Additionally, `actimetric` will generate another folder, named results, that will contain day-level and recording-level aggregates of the data in `.csv` format, as well as visualizations of the recordings in `.pdf` format. Note that visualizations are not generated by default, yet you can turn them on with argument `visualreport`.
